{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Home\",\n  mounted: function mounted() {\n    //在mounted中执行地图方法，mapData为要展示的数据\n    this.initMap(mapData);\n  },\n  methods: {\n    initMap: function initMap(mapData) {\n      var _this = this;\n\n      var that = this; // 创建google地图\n\n      this.maps = new google.maps.Map(document.getElementById(\"allmap\"), {\n        zoom: 13,\n        //地图中心点，这里我以第一个数据的经纬度来设置中心点\n        center: {\n          lat: mapData[0].latitude,\n          lng: mapData[0].longitude\n        },\n        disableDefaultUI: false,\n        zoomControl: false\n      }); // 设置满足条件的自定义标记图标\n\n      var imageblue = \"@/img/map_blue.png\";\n      var imagered = \"@/img/map_red.png\";\n      var imagegray = \"@/img/map_gray.png\";\n      var infoWindow = new google.maps.InfoWindow(); // 循环渲染数据\n\n      mapData.map(function (currData) {\n        // 判断当前图片\n        var currImg = \"\";\n\n        if (currData.line == 0) {\n          currImg = imagegray;\n        } else {\n          if (currData.available >= 4) {\n            currImg = imageblue;\n          } else {\n            currImg = imagered;\n          }\n        }\n\n        var marker = new google.maps.Marker({\n          position: {\n            lat: currData.latitude,\n            lng: currData.longitude\n          },\n          map: _this.maps,\n          title: currData.name,\n          // 此处的icon为标记的自定义图标\n          icon: currImg,\n          animation: google.maps.Animation.DROP\n        }); //多个标记点的点击事件\n\n        (function (marker, currData) {\n          google.maps.event.addListener(marker, \"click\", function (e) {\n            var currLine = currData.line == 1 ? '在线' : '离线'; //设置消息窗口的统一内容\n\n            infoWindow.setContent('<div class=\"content\"><h3 style=\"margin-bottom:5px;font-size:20px;\">' + currData.name + '</h3><p style=\"margin-bottom:5px;font-size:16px;\">' + currData.address + '</p></h3><p style=\"display: flex;align-items:center;margin-bottom:5px;\"><span style=\"display:inline-block;width:12px;height:12px;border-radius:50%;background:#4ECC77;\"></span><span style=\"margin-left:5px;color:#4ECC77;\">可用电池 ' + +currData.available + '<span style=\"display:inline-block;width:12px;height:12px;border-radius:50%;background:#FF485C;margin-left:25px;\"></span><span style=\"margin-left:5px;color:#FF485C;\">空仓 ' + +currData.empty + '</span></p><p style=\"color:#333;margin-top:5px;\">机柜状态：<span style=\"color:#000;\">' + currLine + '</span></p><p style=\"color:#333;margin-top:5px;\">地理位置：<span style=\"color:#000;\">lat：' + currData.latitude + \"；log：\" + currData.longitude + \"</span></p></div>\"); //调用 infoWindow.open\n\n            infoWindow.open(this.maps, marker);\n          });\n        })(marker, currData);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;AASA;EACAA,YADA;EAEAC,OAFA,qBAEA;IACA;IACA;EACA,CALA;EAMAC;IACAC,OADA,mBACAC,OADA,EACA;MAAA;;MACA,gBADA,CAEA;;MACA;QACAC,QADA;QAEA;QACAC;UAAAC;UAAAC;QAAA,CAHA;QAIAC,uBAJA;QAKAC;MALA,GAHA,CAUA;;MACA;MACA;MACA;MACA,8CAdA,CAeA;;MACAN;QACA;QACA;;QACA;UACAO;QACA,CAFA,MAEA;UACA;YACAA;UACA,CAFA,MAEA;YACAA;UACA;QACA;;QACA;UACAC;YAAAL;YAAAC;UAAA,CADA;UAEAK,eAFA;UAGAC,oBAHA;UAIA;UACAC,aALA;UAMAC;QANA,GAZA,CAqBA;;QACA;UACAC;YACA,eACAC,gCADA,CADA,CAGA;;YACAC,sBACA,wEACAD,aADA,GAEA,oDAFA,GAGAA,gBAHA,GAIA,mOAJA,GAKA,mBALA,GAMA,0KANA,GAOA,eAPA,GAQA,kFARA,GAQAE,QARA,GASA,sFATA,GAUAF,iBAVA,GAWA,OAXA,GAYAA,kBAZA,GAaA,mBAdA,EAJA,CAoBA;;YACAC;UACA,CAtBA;QAuBA,CAxBA,EAwBAE,MAxBA,EAwBAH,QAxBA;MAyBA,CA/CA;IAgDA;EAjEA;AANA","names":["name","mounted","methods","initMap","mapData","zoom","center","lat","lng","disableDefaultUI","zoomControl","currImg","position","map","title","icon","animation","google","currData","infoWindow","currLine","marker"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card style=\"font-size: 16px; color: red;\">The map uses Google Maps, if you are a Chinese user, please use a VPN to view</el-card>\r\n    <div id=\"allmap\" ref=\"allmap\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  \r\n  export default {\r\n    name: \"Home\",\r\n    mounted(){\r\n      //在mounted中执行地图方法，mapData为要展示的数据\r\n      this.initMap(mapData);\r\n    },\r\n    methods:{\r\n      initMap(mapData) {\r\n        let that = this;\r\n        // 创建google地图\r\n        this.maps = new google.maps.Map(document.getElementById(\"allmap\"), {\r\n          zoom: 13,\r\n        //地图中心点，这里我以第一个数据的经纬度来设置中心点\r\n          center: { lat: mapData[0].latitude, lng: mapData[0].longitude },\r\n          disableDefaultUI: false,\r\n          zoomControl: false     \r\n        });    \r\n        // 设置满足条件的自定义标记图标\r\n        let imageblue = \"@/img/map_blue.png\";\r\n        let imagered = \"@/img/map_red.png\";\r\n        let imagegray = \"@/img/map_gray.png\";\r\n        let infoWindow = new google.maps.InfoWindow();\r\n        // 循环渲染数据\r\n        mapData.map(currData=>{\r\n          // 判断当前图片\r\n          let currImg = \"\";\r\n          if (currData.line == 0) {\r\n            currImg = imagegray;\r\n          } else {\r\n              if (currData.available >= 4) {\r\n                currImg = imageblue;\r\n              } else {\r\n                currImg = imagered;\r\n              }\r\n          }\r\n          let marker = new google.maps.Marker({\r\n            position: { lat: currData.latitude, lng: currData.longitude },\r\n            map: this.maps,\r\n            title: currData.name,\r\n            // 此处的icon为标记的自定义图标\r\n            icon: currImg,\r\n            animation: google.maps.Animation.DROP\r\n          });\r\n        \r\n          //多个标记点的点击事件\r\n          (function(marker, currData) {\r\n            google.maps.event.addListener(marker, \"click\", function(e) {\r\n              let currLine =\r\n                currData.line == 1? '在线': '离线';\r\n              //设置消息窗口的统一内容\r\n              infoWindow.setContent(\r\n                '<div class=\"content\"><h3 style=\"margin-bottom:5px;font-size:20px;\">' +\r\n                  currData.name +\r\n                  '</h3><p style=\"margin-bottom:5px;font-size:16px;\">' +\r\n                  currData.address +\r\n                  '</p></h3><p style=\"display: flex;align-items:center;margin-bottom:5px;\"><span style=\"display:inline-block;width:12px;height:12px;border-radius:50%;background:#4ECC77;\"></span><span style=\"margin-left:5px;color:#4ECC77;\">可用电池 ' +\r\n                  +currData.available +\r\n                  '<span style=\"display:inline-block;width:12px;height:12px;border-radius:50%;background:#FF485C;margin-left:25px;\"></span><span style=\"margin-left:5px;color:#FF485C;\">空仓 ' +\r\n                  +currData.empty +\r\n                  '</span></p><p style=\"color:#333;margin-top:5px;\">机柜状态：<span style=\"color:#000;\">' +currLine+\r\n                  '</span></p><p style=\"color:#333;margin-top:5px;\">地理位置：<span style=\"color:#000;\">lat：' +\r\n                  currData.latitude +\r\n                  \"；log：\" +\r\n                  currData.longitude +\r\n                  \"</span></p></div>\"\r\n              );\r\n            //调用 infoWindow.open\r\n              infoWindow.open(this.maps, marker);\r\n            });\r\n          })(marker, currData);\r\n            })\r\n        }\r\n      \r\n    } \r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}