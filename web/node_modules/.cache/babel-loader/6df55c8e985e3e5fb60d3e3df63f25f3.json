{"ast":null,"code":"import \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\n//\n//\n//\n//\n//\n//\n//\n//\nvar content = [\"<div style='font-size: 14px; color: red; width: 200px; height: 50px'>这是信息窗口</div>\"];\nexport default {\n  name: \"Home\",\n  data: function data() {\n    return {};\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    // 创建地图实例\n    var map = new AMap.Map(\"container\", {\n      zoom: 12,\n      // center: [116.396901,39.919544],\n      resizeEnable: true\n    });\n    var infoWindow = new AMap.InfoWindow({\n      anchor: 'top-right',\n      content: content.join(\"<br>\") //传入 dom 对象，或者 html 字符串\n\n    });\n\n    var clickHandler = function clickHandler(e) {\n      console.log('您在[ ' + e.lnglat.getLng() + ',' + e.lnglat.getLat() + ' ]的位置点击了地图！');\n      infoWindow.open(map, [116.396901, 39.919544]);\n    }; // 绑定事件\n    // map.on('click', clickHandler);\n\n\n    var marker = new AMap.Marker({\n      position: new AMap.LngLat(116.396901, 39.919544),\n      // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\n      title: '北京故宫',\n      icon: '//vdata.amap.com/icons/b18/1/2.png' // content: '<div style=\"font-size: 12px; width: 100px\">这是我自定义的内容</div>'\n\n    });\n    marker.on('click', clickHandler); // 将创建的点标记添加到已有的地图实例：\n\n    map.add(marker); // path 是驾车导航的起、途径和终点，最多支持16个途经点\n\n    var path = [];\n    path.push([116.303843, 39.983412]);\n    path.push([116.321354, 39.896436]);\n    path.push([116.407012, 39.992093]);\n    map.plugin('AMap.DragRoute', function () {\n      var route = new AMap.DragRoute(map, path, AMap.DrivingPolicy.LEAST_FEE); // 查询导航路径并开启拖拽导航\n\n      route.search();\n    });\n    var polyLine = new AMap.Polyline({\n      path: path,\n      strokeWeight: 5,\n      borderWeight: 5,\n      // 线条宽度，默认为 1\n      strokeStyle: \"solid\",\n      strokeColor: '#DC143C',\n      // 线条颜色\n      lineJoin: 'round' // 折线拐点连接处样式\n\n    });\n    map.add(polyLine); //实例化城市查询类\n\n    map.plugin('AMap.Geolocation', function () {\n      var geolocation = new AMap.Geolocation({\n        // 是否使用高精度定位，默认：true\n        enableHighAccuracy: true,\n        // 设置定位超时时间，默认：无穷大\n        timeout: 10000,\n        // 定位按钮的停靠位置的偏移量\n        offset: [10, 20],\n        //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n        zoomToAccuracy: true,\n        //  定位按钮的排放位置,  RB表示右下\n        position: 'RB'\n      });\n      geolocation.getCurrentPosition(function (status, result) {\n        if (status == 'complete') {\n          onComplete(result);\n        } else {\n          onError(result);\n        }\n      });\n\n      function onComplete(data) {\n        // data是具体的定位信息\n        console.log(data);\n      }\n\n      function onError(data) {\n        // 定位出错\n        console.error(data);\n      }\n    });\n  },\n  methods: {}\n};","map":{"version":3,"mappings":";;;;;;;;;;;AASA,eACA,mFADA;AAKA;EACAA,YADA;EAEAC,IAFA,kBAEA;IACA;EACA,CAJA;EAKAC,OALA,qBAKA,CAEA,CAPA;EAQAC,OARA,qBAQA;IACA;IACA;MACAC,QADA;MAEA;MACAC;IAHA;IAMA;MACAC,mBADA;MAEAC,6BAFA,CAEA;;IAFA;;IAKA;MACAC;MAEAC;IACA,CAJA,CAbA,CAmBA;IACA;;;IAEA;MACAC,gDADA;MACA;MACAC,aAFA;MAGAC,0CAHA,CAIA;;IAJA;IAMAC,iCA5BA,CA+BA;;IACAC,gBAhCA,CAmCA;;IACA;IAEAC;IACAA;IACAA;IAEAD;MACA,wEADA,CAEA;;MACAE;IACA,CAJA;IAMA;MACAD,UADA;MAEAE,eAFA;MAGAC,eAHA;MAGA;MACAC,oBAJA;MAKAC,sBALA;MAKA;MACAC,iBANA,CAMA;;IANA;IAQAP,kBAxDA,CA2DA;;IACAA;MACA;QACA;QACAQ,wBAFA;QAGA;QACAC,cAJA;QAKA;QACAC,gBANA;QAOA;QACAC,oBARA;QASA;QACAf;MAVA;MAaAgB;QACA;UACAC;QACA,CAFA,MAEA;UACAC;QACA;MACA,CANA;;MAQA;QACA;QACApB;MACA;;MAEA;QACA;QACAA;MACA;IACA,CA/BA;EAiCA,CArGA;EAsGAqB;AAtGA","names":["name","data","created","mounted","zoom","resizeEnable","anchor","content","console","infoWindow","position","title","icon","marker","map","path","route","strokeWeight","borderWeight","strokeStyle","strokeColor","lineJoin","enableHighAccuracy","timeout","offset","zoomToAccuracy","geolocation","onComplete","onError","methods"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"container\" style=\"width: 100%; height: calc(100vh - 100px)\"></div>\r\n\r\n    <div id=\"info\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar content = [\r\n  \"<div style='font-size: 14px; color: red; width: 200px; height: 50px'>这是信息窗口</div>\"\r\n];\r\n\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {}\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    // 创建地图实例\r\n    var map = new AMap.Map(\"container\", {\r\n      zoom: 12,\r\n      // center: [116.396901,39.919544],\r\n      resizeEnable: true\r\n    })\r\n\r\n    var infoWindow = new AMap.InfoWindow({\r\n      anchor: 'top-right',\r\n      content: content.join(\"<br>\")  //传入 dom 对象，或者 html 字符串\r\n    });\r\n\r\n    var clickHandler = function(e) {\r\n      console.log('您在[ '+e.lnglat.getLng()+','+e.lnglat.getLat()+' ]的位置点击了地图！');\r\n\r\n      infoWindow.open(map, [116.396901,39.919544]);\r\n    };\r\n\r\n    // 绑定事件\r\n    // map.on('click', clickHandler);\r\n\r\n    var marker = new AMap.Marker({\r\n      position: new AMap.LngLat(116.396901,39.919544),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\r\n      title: '北京故宫',\r\n      icon: '//vdata.amap.com/icons/b18/1/2.png',\r\n      // content: '<div style=\"font-size: 12px; width: 100px\">这是我自定义的内容</div>'\r\n    })\r\n    marker.on('click', clickHandler);\r\n\r\n\r\n    // 将创建的点标记添加到已有的地图实例：\r\n    map.add(marker);\r\n\r\n\r\n    // path 是驾车导航的起、途径和终点，最多支持16个途经点\r\n    var path = []\r\n\r\n    path.push([116.303843, 39.983412])\r\n    path.push([116.321354, 39.896436])\r\n    path.push([116.407012, 39.992093])\r\n\r\n    map.plugin('AMap.DragRoute', function () {\r\n      var route = new AMap.DragRoute(map, path, AMap.DrivingPolicy.LEAST_FEE)\r\n      // 查询导航路径并开启拖拽导航\r\n      route.search()\r\n    })\r\n\r\n    var polyLine = new AMap.Polyline({\r\n      path: path,\r\n      strokeWeight: 5,\r\n      borderWeight: 5, // 线条宽度，默认为 1\r\n      strokeStyle: \"solid\",\r\n      strokeColor: '#DC143C', // 线条颜色\r\n      lineJoin: 'round' // 折线拐点连接处样式\r\n    })\r\n    map.add(polyLine)\r\n\r\n\r\n    //实例化城市查询类\r\n    map.plugin('AMap.Geolocation', function() {\r\n      var geolocation = new AMap.Geolocation({\r\n        // 是否使用高精度定位，默认：true\r\n        enableHighAccuracy: true,\r\n        // 设置定位超时时间，默认：无穷大\r\n        timeout: 10000,\r\n        // 定位按钮的停靠位置的偏移量\r\n        offset: [10, 20],\r\n        //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\r\n        zoomToAccuracy: true,\r\n        //  定位按钮的排放位置,  RB表示右下\r\n        position: 'RB'\r\n      })\r\n\r\n      geolocation.getCurrentPosition(function(status,result){\r\n        if(status=='complete'){\r\n          onComplete(result)\r\n        }else{\r\n          onError(result)\r\n        }\r\n      });\r\n\r\n      function onComplete (data) {\r\n        // data是具体的定位信息\r\n        console.log(data)\r\n      }\r\n\r\n      function onError (data) {\r\n        // 定位出错\r\n        console.error(data)\r\n      }\r\n    })\r\n\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}