{"ast":null,"code":"import _objectSpread from \"E:/environment/project/agricultural-management-system/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as echarts from 'echarts';\nimport { mapState } from 'vuex';\nimport VueWeather from \"vue-weather-widget\";\nexport default {\n  name: \"Home\",\n  components: {\n    VueWeather: VueWeather\n  },\n  data: function data() {\n    return {\n      icons: {},\n      features: [],\n      center: {\n        lat: 53.382349,\n        lng: -1.481200\n      },\n      map: null,\n      contentString: '',\n      infowindow: {},\n      marker: {},\n      scoreChartDom: {},\n      scoreChart: {},\n      scoreOption: {}\n    };\n  },\n  computed: _objectSpread({}, mapState(['curScore'])),\n  mounted: function mounted() {\n    var _this = this;\n\n    setTimeout(function () {\n      _this.initMap();\n    }, 0);\n    this.getScoreChart();\n  },\n  methods: {\n    initMap: function initMap() {\n      var _this2 = this;\n\n      this.icons = {\n        farm: {\n          icon: \"http://rf6jnyisc.bkt.clouddn.com/2022/08/0578e7e2322fd44c289a4ba09823306018.png\"\n        }\n      };\n      this.features = [{\n        position: new google.maps.LatLng(53.382349, -1.481200),\n        type: \"farm\"\n      }];\n      this.map = new google.maps.Map(document.getElementById(\"map\"), {\n        zoom: 18,\n        center: this.center\n      });\n      this.contentString = '<div id=\"content\">' + '<div id=\"siteNotice\">' + \"</div>\" + '<h1 id=\"firstHeading\" class=\"firstHeading\">JLGL Farm</h1>' + '<div id=\"bodyContent\">' + \"<p><b>Welcome to JLGL Farm, we are located in Sheffield, UK, glad you could come and visit </b><br>\" + \"<b>Our Position: </b> S14NP, right next to diamond</p>\" + \"</div>\" + \"</div>\";\n      this.infowindow = new google.maps.InfoWindow({\n        content: this.contentString\n      });\n      this.marker = new google.maps.Marker({\n        position: this.features[0].position,\n        icon: this.icons[this.features[0].type].icon,\n        map: this.map\n      });\n      this.marker.addListener(\"click\", function () {\n        _this2.infowindow.open({\n          anchor: _this2.marker,\n          map: _this2.map,\n          shouldFocus: false\n        });\n      });\n    },\n    getScoreChart: function getScoreChart() {\n      this.scoreChartDom = document.getElementById('score');\n      this.scoreChart = echarts.init(this.scoreChartDom);\n      this.scoreOption = {\n        series: [{\n          type: 'gauge',\n          startAngle: 180,\n          endAngle: 0,\n          min: 0,\n          max: 1,\n          splitNumber: 10,\n          axisLine: {\n            lineStyle: {\n              width: 6,\n              color: [[0.25, '#FF6E76'], [0.5, '#FDDD60'], [0.75, '#58D9F9'], [1, '#7CFFB2']]\n            }\n          },\n          pointer: {\n            icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',\n            length: '12%',\n            width: 20,\n            offsetCenter: [0, '-60%'],\n            itemStyle: {\n              color: 'auto'\n            }\n          },\n          axisTick: {\n            length: 12,\n            lineStyle: {\n              color: 'auto',\n              width: 2\n            }\n          },\n          splitLine: {\n            length: 20,\n            lineStyle: {\n              color: 'auto',\n              width: 5\n            }\n          },\n          axisLabel: {\n            color: '#464646',\n            fontSize: 12,\n            distance: -60,\n            formatter: function formatter(value) {\n              if (value === 0.9) {\n                return 'Perfect';\n              } else if (value === 0.7) {\n                return 'Good';\n              } else if (value === 0.3) {\n                return 'So so';\n              } else if (value === 0.1) {\n                return 'Bad';\n              }\n\n              return '';\n            }\n          },\n          title: {\n            offsetCenter: [0, '-20%'],\n            fontSize: 12\n          },\n          detail: {\n            fontSize: 15,\n            offsetCenter: [0, '0%'],\n            valueAnimation: true,\n            formatter: function formatter(value) {\n              return Math.round(value * 100) + '%';\n            },\n            color: 'auto'\n          },\n          data: [{\n            value: this.curScore / 100,\n            name: 'Soil Condition'\n          }]\n        }]\n      };\n      this.scoreChart.setOption(this.scoreOption);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;EACAA,YADA;EAEAC;IACAC;EADA,CAFA;EAKAC,IALA,kBAKA;IACA;MACAC,SADA;MAEAC,YAFA;MAGAC;QAAAC;QAAAC;MAAA,CAHA;MAIAC,SAJA;MAKAC,iBALA;MAMAC,cANA;MAOAC,UAPA;MASAC,iBATA;MAUAC,cAVA;MAWAC;IAXA;EAaA,CAnBA;EAqBAC,4BACAC,sBADA,CArBA;EAyBAC,OAzBA,qBAyBA;IAAA;;IACAC;MACA;IACA,CAFA,EAEA,CAFA;IAGA;EACA,CA9BA;EAgCAC;IACAC,OADA,qBACA;MAAA;;MACA;QACAC;UACAC;QADA;MADA;MAKA,iBACA;QACAC,sDADA;QAEAC;MAFA,CADA;MAMA;QACAC,QADA;QAEApB;MAFA;MAKA,qBACA,uBACA,uBADA,GAEA,QAFA,GAGA,2DAHA,GAIA,wBAJA,GAKA,qGALA,GAMA,wDANA,GAOA,QAPA,GAQA,QATA;MAWA;QACAqB;MADA;MAGA;QACAH,mCADA;QAEAD,4CAFA;QAGAd;MAHA;MAMA;QACA;UACAmB,qBADA;UAEAnB,eAFA;UAGAoB;QAHA;MAKA,CANA;IAOA,CA7CA;IA8CAC,aA9CA,2BA8CA;MACA;MACA;MAEA;QACAC,SACA;UACAN,aADA;UAEAO,eAFA;UAGAC,WAHA;UAIAC,MAJA;UAKAC,MALA;UAMAC,eANA;UAOAC;YACAC;cACAC,QADA;cAEAC,QACA,iBADA,EAEA,gBAFA,EAGA,iBAHA,EAIA,cAJA;YAFA;UADA,CAPA;UAkBAC;YACAlB,8CADA;YAEAmB,aAFA;YAGAH,SAHA;YAIAI,yBAJA;YAKAC;cACAJ;YADA;UALA,CAlBA;UA2BAK;YACAH,UADA;YAEAJ;cACAE,aADA;cAEAD;YAFA;UAFA,CA3BA;UAkCAO;YACAJ,UADA;YAEAJ;cACAE,aADA;cAEAD;YAFA;UAFA,CAlCA;UAyCAQ;YACAP,gBADA;YAEAQ,YAFA;YAGAC,aAHA;YAIAC;cACA;gBACA;cACA,CAFA,MAEA;gBACA;cACA,CAFA,MAEA;gBACA;cACA,CAFA,MAEA;gBACA;cACA;;cACA;YACA;UAfA,CAzCA;UA0DAC;YACAR,yBADA;YAEAK;UAFA,CA1DA;UA8DAI;YACAJ,YADA;YAEAL,uBAFA;YAGAU,oBAHA;YAIAH;cACA;YACA,CANA;YAOAV;UAPA,CA9DA;UAuEArC,OACA;YACAmD,0BADA;YAEAtD;UAFA,CADA;QAvEA,CADA;MADA;MAmFA;IACA;EAtIA;AAhCA","names":["name","components","VueWeather","data","icons","features","center","lat","lng","map","contentString","infowindow","marker","scoreChartDom","scoreChart","scoreOption","computed","mapState","mounted","setTimeout","methods","initMap","farm","icon","position","type","zoom","content","anchor","shouldFocus","getScoreChart","series","startAngle","endAngle","min","max","splitNumber","axisLine","lineStyle","width","color","pointer","length","offsetCenter","itemStyle","axisTick","splitLine","axisLabel","fontSize","distance","formatter","title","detail","valueAnimation","value"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"font-size: 8px; color: red; margin-bottom: 10px;\">If you are a Chinese user, please use a VPN to view</div>\r\n    <el-row>\r\n      <el-col :span=\"14\">\r\n        <el-card style=\"width: 100%;\">\r\n          <vue-weather\r\n            api-key=\"e726bc58550e9da951ceede76403afa7\"\r\n            units=\"uk\"\r\n            latitude=\"53.382349\"\r\n            longitude=\"-1.481200\"\r\n          />\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"9\" >\r\n        <el-card style=\"height: 270px; margin-left: 15px;\">\r\n        <div id=\"score\" style=\"height: 270px;\">\r\n\r\n        </div>\r\n      </el-card>\r\n      </el-col>\r\n\r\n          <!-- {{$store.state.curScore}} -->\r\n    </el-row>\r\n      \r\n    <div id=\"map\" style=\"width: 100%; height: 500px; margin-top: 15px;\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as echarts from 'echarts'; \r\n  import { mapState } from 'vuex';\r\n  import VueWeather from \"vue-weather-widget\";\r\n  export default {\r\n    name: \"Home\",\r\n    components: {\r\n      VueWeather,\r\n    },\r\n    data() {\r\n      return {\r\n        icons:{},\r\n        features:[],\r\n        center: { lat: 53.382349, lng: -1.481200 },\r\n        map:null,\r\n        contentString:'',\r\n        infowindow:{},\r\n        marker:{},\r\n\r\n        scoreChartDom:{},\r\n        scoreChart:{},\r\n        scoreOption:{},\r\n      };\r\n    },\r\n\r\n    computed:{\r\n      ...mapState(['curScore'])\r\n    },\r\n \r\n    mounted(){\r\n      setTimeout(() => {\r\n        this.initMap();\r\n      }, 0)\r\n      this.getScoreChart()\r\n    },\r\n  \r\n    methods: {\r\n      initMap() {\r\n        this.icons = {\r\n          farm: {\r\n            icon: \"http://rf6jnyisc.bkt.clouddn.com/2022/08/0578e7e2322fd44c289a4ba09823306018.png\",\r\n          },\r\n        };\r\n        this.features = [\r\n          {\r\n            position: new google.maps.LatLng(53.382349, -1.481200),\r\n            type: \"farm\",\r\n          }\r\n        ];\r\n        this.map = new google.maps.Map(document.getElementById(\"map\"), {\r\n          zoom: 18,\r\n          center: this.center,\r\n        });\r\n\r\n        this.contentString =\r\n          '<div id=\"content\">' +\r\n          '<div id=\"siteNotice\">' +\r\n          \"</div>\" +\r\n          '<h1 id=\"firstHeading\" class=\"firstHeading\">JLGL Farm</h1>' +\r\n          '<div id=\"bodyContent\">' +\r\n          \"<p><b>Welcome to JLGL Farm, we are located in Sheffield, UK, glad you could come and visit </b><br>\" +\r\n          \"<b>Our Position: </b> S14NP, right next to diamond</p>\" + \r\n          \"</div>\" +\r\n          \"</div>\";\r\n          \r\n        this.infowindow = new google.maps.InfoWindow({\r\n          content: this.contentString,\r\n        });\r\n        this.marker = new google.maps.Marker({\r\n          position: this.features[0].position,\r\n          icon: this.icons[this.features[0].type].icon,\r\n          map: this.map,\r\n        });\r\n        \r\n        this.marker.addListener(\"click\", () => {\r\n          this.infowindow.open({\r\n            anchor: this.marker,\r\n            map:this.map,\r\n            shouldFocus: false,\r\n          });\r\n        });\r\n      },\r\n      getScoreChart(){\r\n        this.scoreChartDom = document.getElementById('score');\r\n        this.scoreChart = echarts.init(this.scoreChartDom);\r\n\r\n        this.scoreOption = {\r\n          series: [\r\n            {\r\n              type: 'gauge',\r\n              startAngle: 180,\r\n              endAngle: 0,\r\n              min: 0,\r\n              max: 1,\r\n              splitNumber: 10,\r\n              axisLine: {\r\n                lineStyle: {\r\n                  width: 6,\r\n                  color: [\r\n                    [0.25, '#FF6E76'],\r\n                    [0.5, '#FDDD60'],\r\n                    [0.75, '#58D9F9'],\r\n                    [1, '#7CFFB2']\r\n                  ]\r\n                }\r\n              },\r\n              pointer: {\r\n                icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',\r\n                length: '12%',\r\n                width: 20,\r\n                offsetCenter: [0, '-60%'],\r\n                itemStyle: {\r\n                  color: 'auto'\r\n                }\r\n              },\r\n              axisTick: {\r\n                length: 12,\r\n                lineStyle: {\r\n                  color: 'auto',\r\n                  width: 2\r\n                }\r\n              },\r\n              splitLine: {\r\n                length: 20,\r\n                lineStyle: {\r\n                  color: 'auto',\r\n                  width: 5\r\n                }\r\n              },\r\n              axisLabel: {\r\n                color: '#464646',\r\n                fontSize: 12,\r\n                distance: -60,\r\n                formatter: function (value) {\r\n                  if (value === 0.9) {\r\n                    return 'Perfect';\r\n                  } else if (value === 0.7) {\r\n                    return 'Good';\r\n                  } else if (value === 0.3) {\r\n                    return 'So so';\r\n                  } else if (value === 0.1) {\r\n                    return 'Bad';\r\n                  }\r\n                  return '';\r\n                }\r\n              },\r\n              title: {\r\n                offsetCenter: [0, '-20%'],\r\n                fontSize: 12\r\n              },\r\n              detail: {\r\n                fontSize: 15,\r\n                offsetCenter: [0, '0%'],\r\n                valueAnimation: true,\r\n                formatter: function (value) {\r\n                  return Math.round(value * 100) + '%';\r\n                },\r\n                color: 'auto'\r\n              },\r\n              data: [\r\n                {\r\n                  value: this.curScore / 100,\r\n                  name: 'Soil Condition'\r\n                }\r\n              ]\r\n\r\n            }\r\n          ]\r\n        };\r\n        this.scoreChart.setOption(this.scoreOption);\r\n      }\r\n    },\r\n  }\r\n  \r\n</script>\r\n\r\n<style scoped>\r\n.chart {\r\n  background-image: linear-gradient(to top, #1c92d2 0%, #f2fcfe 100%);\r\n  overflow: hidden;\r\n};\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}