{"ast":null,"code":"import Vue from 'vue';\nimport VueI18n from 'vue-i18n'; // 引入element ui自带语言包\n\nimport ElementUILocale from 'element-ui/lib/locale';\nimport enLocale from 'element-ui/lib/locale/lang/en';\nVue.use(VueI18n);\nconst DEFAULT_LANG = 'en';\nconst LOCALE_KEY = 'DemoLanguage';\nconst locales = {\n  en: require('./en.json')\n};\nconst i18n = new VueI18n({\n  locale: DEFAULT_LANG,\n  messages: locales\n});\nconst UIlocales = {\n  en: enLocale\n}; // 通过判断lang语言标志符来return先对应的语言\n\nconst setUIlocales = lang => {\n  switch (lang) {\n    case 'en':\n      return UIlocales.en;\n  }\n};\n\nexport const setup = lang => {\n  if (lang == undefined) {\n    lang = window.localStorage.getItem(LOCALE_KEY);\n\n    if (locales[lang] == undefined) {\n      lang = DEFAULT_LANG;\n    }\n  }\n\n  window.localStorage.setItem(LOCALE_KEY, lang);\n  Object.keys(locales).forEach(item => {\n    document.body.classList.remove('lang-${item}');\n  });\n  document.body.classList.add('lang-${lang}');\n  document.body.setAttribute('lang', lang);\n  Vue.config.lang = lang;\n  i18n.locale = lang;\n  ElementUILocale.use(setUIlocales(lang)); // element ui 切换语言\n};\nsetup();\nexport default i18n;","map":{"version":3,"names":["Vue","VueI18n","ElementUILocale","enLocale","use","DEFAULT_LANG","LOCALE_KEY","locales","en","require","i18n","locale","messages","UIlocales","setUIlocales","lang","setup","undefined","window","localStorage","getItem","setItem","Object","keys","forEach","item","document","body","classList","remove","add","setAttribute","config"],"sources":["E:/environment/project/agricultural-management-system/web/src/util/locale/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueI18n from 'vue-i18n'\r\n\r\n// 引入element ui自带语言包\r\nimport ElementUILocale from 'element-ui/lib/locale' \r\nimport enLocale from 'element-ui/lib/locale/lang/en' \r\n\r\nVue.use(VueI18n)\r\n\r\n\r\nconst DEFAULT_LANG = 'en'\r\nconst LOCALE_KEY = 'DemoLanguage'\r\n\r\nconst locales = {\r\n    en: require('./en.json')\r\n}\r\n\r\nconst i18n = new VueI18n({\r\n    locale: DEFAULT_LANG,\r\n    messages : locales,\r\n})\r\n\r\nconst UIlocales = {\r\n  en: enLocale\r\n}\r\n\r\n// 通过判断lang语言标志符来return先对应的语言\r\nconst setUIlocales = lang =>{\r\n  switch (lang) {\r\n    case 'en': return UIlocales.en\r\n  }\r\n}\r\n\r\nexport const setup = lang => {\r\n    if(lang == undefined){\r\n        lang = window.localStorage.getItem(LOCALE_KEY)\r\n        if ( locales[lang] == undefined ) {\r\n            lang = DEFAULT_LANG\r\n        }\r\n    }\r\n    window.localStorage.setItem(LOCALE_KEY, lang)\r\n    Object.keys(locales).forEach(item => {\r\n        document.body.classList.remove('lang-${item}')\r\n    })\r\n    document.body.classList.add('lang-${lang}')\r\n    document.body.setAttribute('lang', lang)\r\n\r\n    Vue.config.lang = lang\r\n    i18n.locale = lang\r\n    ElementUILocale.use(setUIlocales(lang)) // element ui 切换语言\r\n}\r\n\r\nsetup()\r\nexport default i18n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,UAApB,C,CAEA;;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,OAAOC,QAAP,MAAqB,+BAArB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,OAAR;AAGA,MAAMI,YAAY,GAAG,IAArB;AACA,MAAMC,UAAU,GAAG,cAAnB;AAEA,MAAMC,OAAO,GAAG;EACZC,EAAE,EAAEC,OAAO,CAAC,WAAD;AADC,CAAhB;AAIA,MAAMC,IAAI,GAAG,IAAIT,OAAJ,CAAY;EACrBU,MAAM,EAAEN,YADa;EAErBO,QAAQ,EAAGL;AAFU,CAAZ,CAAb;AAKA,MAAMM,SAAS,GAAG;EAChBL,EAAE,EAAEL;AADY,CAAlB,C,CAIA;;AACA,MAAMW,YAAY,GAAGC,IAAI,IAAG;EAC1B,QAAQA,IAAR;IACE,KAAK,IAAL;MAAW,OAAOF,SAAS,CAACL,EAAjB;EADb;AAGD,CAJD;;AAMA,OAAO,MAAMQ,KAAK,GAAGD,IAAI,IAAI;EACzB,IAAGA,IAAI,IAAIE,SAAX,EAAqB;IACjBF,IAAI,GAAGG,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4Bd,UAA5B,CAAP;;IACA,IAAKC,OAAO,CAACQ,IAAD,CAAP,IAAiBE,SAAtB,EAAkC;MAC9BF,IAAI,GAAGV,YAAP;IACH;EACJ;;EACDa,MAAM,CAACC,YAAP,CAAoBE,OAApB,CAA4Bf,UAA5B,EAAwCS,IAAxC;EACAO,MAAM,CAACC,IAAP,CAAYhB,OAAZ,EAAqBiB,OAArB,CAA6BC,IAAI,IAAI;IACjCC,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,cAA/B;EACH,CAFD;EAGAH,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,GAAxB,CAA4B,cAA5B;EACAJ,QAAQ,CAACC,IAAT,CAAcI,YAAd,CAA2B,MAA3B,EAAmChB,IAAnC;EAEAf,GAAG,CAACgC,MAAJ,CAAWjB,IAAX,GAAkBA,IAAlB;EACAL,IAAI,CAACC,MAAL,GAAcI,IAAd;EACAb,eAAe,CAACE,GAAhB,CAAoBU,YAAY,CAACC,IAAD,CAAhC,EAhByB,CAgBe;AAC3C,CAjBM;AAmBPC,KAAK;AACL,eAAeN,IAAf"},"metadata":{},"sourceType":"module"}